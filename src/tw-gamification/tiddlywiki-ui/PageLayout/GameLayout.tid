title: $:/plugins/linonetwo/tw-gamification/PageLayout/GameLayout
name: {{$:/plugins/linonetwo/tw-gamification/tiddlywiki-ui/GameLayoutImage}}<<lingo "Name" "$:/plugins/linonetwo/tw-gamification/language/">>
description: <<lingo "Description" "$:/plugins/linonetwo/tw-gamification/language/">>
tags: $:/tags/Layout

\whitespace trim
\import [subfilter{$:/core/config/GlobalImportFilter}]
\define containerClasses()
tc-page-container tc-page-view-$(storyviewTitle)$ tc-language-$(languageTitle)$ tw-gamification-container
\end

<$vars
	storyviewTitle={{$:/view}}
	languageTitle={{{ [{$:/language}get[name]] }}}
	isDefaultEventGeneratorEnabled={{{ [{$:/plugins/linonetwo/tw-gamification/configs/EnableDefaultEventGenerator}match[yes]] }}}
	isDefaultEventGeneratorLackConfig={{{ [{$:/plugins/linonetwo/tw-gamification/configs/DefaultEventGeneratorTagsForTask}match[]] :then[[yes]] }}}
>

	<div class=<<containerClasses>>>

		<$navigator story="$:/StoryList" history="$:/HistoryList" openLinkFromInsideRiver={{$:/config/Navigation/openLinkFromInsideRiver}} openLinkFromOutsideRiver={{$:/config/Navigation/openLinkFromOutsideRiver}} relinkOnRename={{$:/config/RelinkOnRename}}>

			<!-- and if any config needed by DefaultEventGenerator is empty, show the config page -->
			<!-- isDefaultEventGeneratorEnabled === 'yes' && isDefaultEventGeneratorLackConfig === 'yes' -->
			<% if [<isDefaultEventGeneratorEnabled>match[yes]then<isDefaultEventGeneratorLackConfig>match[yes]] %>

				{{$:/plugins/linonetwo/tw-gamification/PageLayout/GameConfigBeforeUse}}

			<% else %>

				{{$:/plugins/linonetwo/tw-gamification/PageLayout/GameStory}}

			<% endif %>

		</$navigator>

	</div>

</$vars>